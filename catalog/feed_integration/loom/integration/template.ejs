<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Loom recordSDK Fusebit integration demo</title>
    <style>
      html,
      button,
      p {
        font-family: Circular, Helvetica, sans-serif;
      }

      p {
        font-size: 15px;
      }

      .container {
        margin: 25vh auto;
        height: auto;
        width: 150px;
        padding: 10px;
        box-shadow: 2px 10px 10px 0px hsl(240deg 2% 67%);
        border-radius: 10px;
      }

      .logo svg {
        height: 30px;
        width: 100px;
        padding: 10px;
      }

      button {
        background-color: rgb(86, 90, 221);
        color: #eff0ff;
        font-size: 13px;
        border: none;
        width: 124px;
        padding: 6.5px;
        border-radius: 99999px;
        box-shadow: 0px 0px 0px 3.705px rgb(85 89 221 / 40%);
        cursor: pointer;
        margin: 10px;
      }
    </style>
    <script src="https://unpkg.com/@loomhq/loom-sdk@2.27.0"></script>
    <script>
      window.loomJws = '{{%= jws %}}';
    </script>
  </head>
  <body>
    <div class="container">
      <div class="logo">
        <svg width="629" height="190" viewBox="0 0 629 190" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="629" height="190" fill="white" />
          <path d="M240.938 164.157V25.4498H266.404V164.157H240.938Z" fill="#222222" />
          <path
            d="M485.192 69.8967H509.511V81.3961C514.679 72.2011 526.748 67.2157 537.085 67.2157C549.92 67.2157 560.257 72.7743 565.043 82.9249C572.506 71.4254 582.472 67.2157 594.918 67.2157C612.341 67.2157 629 77.7541 629 103.04V164.157H604.299V108.217C604.299 98.0607 599.316 90.4 587.635 90.4C576.718 90.4 570.206 98.8307 570.206 108.987V164.163H544.937V108.217C544.937 98.0607 539.768 90.4 528.273 90.4C517.165 90.4 510.652 98.6396 510.652 108.987V164.163H485.192V69.8967Z"
            fill="#222222"
          />
          <path
            d="M323.955 166.888C295.266 166.888 274.491 145.609 274.491 117.029C274.491 88.9043 295.199 67.1195 323.955 67.1195C352.851 67.1195 373.419 89.1066 373.419 117.029C373.419 145.401 352.632 166.888 323.955 166.888ZM323.955 90.1914C309.158 90.1914 297.122 102.23 297.122 117.035C297.122 131.839 309.158 143.878 323.955 143.878C338.752 143.878 350.782 131.839 350.782 117.035C350.782 102.23 338.752 90.1914 323.955 90.1914Z"
            fill="#222222"
          />
          <path
            d="M427.816 166.888C399.127 166.888 378.352 145.609 378.352 117.029C378.352 88.9043 399.06 67.1195 427.816 67.1195C456.712 67.1195 477.28 89.1066 477.28 117.029C477.28 145.401 456.482 166.888 427.816 166.888ZM427.816 89.871C412.85 89.871 400.674 102.056 400.674 117.023C400.674 131.991 412.85 144.176 427.816 144.176C442.781 144.176 454.958 131.991 454.958 117.023C454.952 102.056 442.776 89.871 427.816 89.871Z"
            fill="#222222"
          />
          <path
            d="M189.611 84.2622H134.166L182.184 56.539L171.639 38.2692L123.621 65.9923L151.338 17.9781L133.068 7.42678L105.351 55.4409V0H84.2598V55.4462L56.5322 7.42678L38.2681 17.9728L65.9904 65.987L17.9723 38.2692L7.42658 56.5337L55.4447 84.2569H0V105.349H55.4394L7.42658 133.072L17.9723 151.342L65.9851 123.624L38.2628 171.638L56.5322 182.184L84.2545 134.165V189.611H105.346V134.17L133.063 182.184L151.332 171.638L123.61 123.619L171.628 151.342L182.174 133.072L134.161 105.354H189.6V84.2622H189.611ZM94.8055 123.491C78.9021 123.491 66.0116 110.601 66.0116 94.6968C66.0116 78.7929 78.9021 65.9021 94.8055 65.9021C110.709 65.9021 123.599 78.7929 123.599 94.6968C123.599 110.601 110.709 123.491 94.8055 123.491Z"
            fill="#625DF5"
          />
        </svg>
      </div>
      <div class="record">
        <p>This is a Fusebit demo using Loom's recordSDK, click Record to create a new Loom!</p>
        <button id="record-button">Record</button>
      </div>
    </div>
  </body>
  <script>
    window.global = window;
    async function setup() {
      const { supported } = await loomSdk.isSupported();

      if (!supported) {
        console.log('Loom is not supported');
      }

      const { configureButton } = await loomSdk.setup({
        jws: window.loomJws,
      });

      configureButton({
        element: document.querySelector('#record-button'),
      });
    }

    setup();
  </script>
</html>
